import{r as v,a as F,d as I,u as L,c as N,b as i,e as z,f as a,w as t,g as s,h as l,o as B,I as C,i as R,j as d,k as h,M as u,_ as j}from"./index-0k8HkCPh.js";function q(){const c=v(!1),m=F({email:"",password:"",remember:!1});return{loading:c,form:m,rules:{email:[{required:!0,message:"è¯·è¾“å…¥é‚®ç®±åœ°å€"},{type:"email",message:"è¯·è¾“å…¥æ­£ç¡®çš„é‚®ç®±æ ¼å¼"}],password:[{required:!0,message:"è¯·è¾“å…¥å¯†ç "},{minLength:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº6ä½"}]}}}const M={class:"login-container"},E={class:"login-card"},P={class:"form-options"},Q={class:"register-link"},T=I({__name:"Login",setup(c){const m=h(),{loading:n,form:o,rules:b}=q(),p=v(),w=L();async function x({errors:f}){if(!f){n.value=!0;try{console.warn("ç™»å½•ä¿¡æ¯:",o);const e=w.login(o.email,o.password);e.state===!0?(u.success("ç™»å½•æˆåŠŸ"),m.push("/")):(e.field==="email"&&(u.error("è¯¥é‚®ç®±æœªæ³¨å†Œ"),p.value?.setFields({email:{status:"error",message:"è¯¥é‚®ç®±æœªæ³¨å†Œ"}})),e.field==="password"&&(p.value?.setFields({password:{status:"error",message:"å¯†ç é”™è¯¯,è¯·æ£€æŸ¥å¯†ç "}}),u.error("å¯†ç é”™è¯¯,è¯·æ£€æŸ¥å¯†ç ")))}catch(e){console.error(e),u.error("ç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥è´¦å·å¯†ç ")}finally{n.value=!1}}}return(f,e)=>{const V=l("a-input"),g=l("a-form-item"),k=l("a-input-password"),y=l("a-checkbox"),_=l("a-link"),S=l("a-button"),U=l("a-form");return B(),N("div",M,[i("div",E,[e[8]||(e[8]=z('<div class="logo-section" data-v-6123d0c8><div class="logo" data-v-6123d0c8><span class="logo-icon" data-v-6123d0c8>ğŸŠ</span><span class="logo-text" data-v-6123d0c8>å°æ©˜é—®å·</span></div><p class="subtitle" style="color:#ff7a00;font-weight:800;" data-v-6123d0c8> Xiaoju Questionnaire </p><p class="subtitle" style="margin-top:1vh;" data-v-6123d0c8> æ¬¢è¿å›æ¥ </p></div>',1)),a(U,{ref_key:"loginFormRef",ref:p,model:s(o),rules:s(b),layout:"vertical",class:"login-form",onSubmit:x},{default:t(()=>[a(g,{field:"email",label:"é‚®ç®±"},{default:t(()=>[a(V,{modelValue:s(o).email,"onUpdate:modelValue":e[0]||(e[0]=r=>s(o).email=r),placeholder:"è¯·è¾“å…¥é‚®ç®±åœ°å€",size:"large",prefix:s(C)},null,8,["modelValue","prefix"])]),_:1}),a(g,{field:"password",label:"å¯†ç "},{default:t(()=>[a(k,{modelValue:s(o).password,"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).password=r),placeholder:"è¯·è¾“å…¥å¯†ç ",size:"large",prefix:s(R)},null,8,["modelValue","prefix"])]),_:1}),i("div",P,[a(y,{modelValue:s(o).remember,"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).remember=r)},{default:t(()=>[...e[3]||(e[3]=[d(" è®°ä½æˆ‘ ",-1)])]),_:1},8,["modelValue"]),a(_,{href:"/forgot-password",class:"forgot-link"},{default:t(()=>[...e[4]||(e[4]=[d(" å¿˜è®°å¯†ç ï¼Ÿ ",-1)])]),_:1})]),a(S,{type:"primary","html-type":"submit",size:"large",class:"login-button",loading:s(n),long:""},{default:t(()=>[...e[5]||(e[5]=[d(" ç™»å½• ",-1)])]),_:1},8,["loading"])]),_:1},8,["model","rules"]),i("div",Q,[e[7]||(e[7]=i("span",null,"è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ",-1)),a(_,{href:"/register",class:"register-text"},{default:t(()=>[...e[6]||(e[6]=[d(" ç«‹å³æ³¨å†Œ ",-1)])]),_:1})])])])}}}),A=j(T,[["__scopeId","data-v-6123d0c8"]]);export{A as default};
